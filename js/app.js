(self.webpackJsonp=self.webpackJsonp||[]).push([["application"],{"./app/javascript/application.js":function(t,e,o){"use strict";o.r(e);o("./node_modules/@shopify/polyfills/dist/src/base.js");var n=o("./node_modules/jquery/dist/jquery.js"),s=o.n(n),i=o("./node_modules/@shopify/marketing-assets/dist/javascripts/index.js");const a="Domain Selector",c="noredirect",r="/domain-services/suggest",l={button:".js-domain-selector-button",select:".js-domain-selector-select"};class p extends i.Announcement{close(){super.close(),i.analytics.track(a,"closed","".concat(window.location.host,":").concat(navigator.language.toLowerCase()))}}var d=class{constructor(t){if(this.$el=t,this.$button=this.$el.querySelector(l.button),this.$select=this.$el.querySelector(l.select),!this.$button||!this.$select)throw new Error("Domain selector passed incorrect element")}async init(){if(i.cookieHelper.get(c))return;const t=await this.suggestions(),e="".concat(window.location.host,":").concat(navigator.language.toLowerCase());t.length&&(this.populateOptions(t),this.bindListeners(),this.announcement=new p(this.$el,{cookieName:c}),i.analytics.track(a,"shown",e,void 0,!0))}bindListeners(){this.$button.addEventListener("click",t=>{t.preventDefault();const e=new URL(this.$select.value);i.analytics.track(a,"accepted","".concat(window.location.host,":").concat(e.host)),window.location.href=e.toString()})}populateOptions(t){this.$select.innerHTML="";const e=document.createDocumentFragment();t.forEach(t=>{const o=document.createElement("option");o.innerHTML=t.display,o.value=t.url,e.appendChild(o)}),this.$select.appendChild(e)}async suggestions(){const t=await fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({path:window.location.pathname})});if(200!==t.status)throw new Error("Domain suggestion request failed with status ".concat(t.status));const e=await t.json();if(!e.suggested)throw new Error("Domain suggestion request returned incorrect data");return e.suggested}};window.App=window.App||{},window.ShopifyMarketing=window.ShopifyMarketing||{},window.jQuery=s.a,App.config&&App.config.signupHost&&i.config.set("SignupBaseURI","https://".concat(App.config.signupHost)),i.config.set("customGoogleAnalyticsNamespace","_other"),Object(i.init)(),App.scrollTo=new i.ScrollTo({offset:-s()("#ShopifyMainNav").height(),$selector:s()(".link-scroll-to")}),s()("body").hasClass("page--home")||new i.Video(s()(".background-video")),new i.StickyNav;const u=document.querySelector(".js-domain-selector");if(u){new d(u).init()}}},[["./app/javascript/application.js","runtime","vendor"]]]);
//# sourceMappingURL=application-9163a8af1600720d4ea997f0acfc04f6a9a79feadb370d5f51ff06954f2f33e2.js.map